<html>
    <head>
        <script src="/vendor/jquery/jquery.js"></script>
        <script src="/vendor/underscore-amd/underscore.js"></script>
        <script src="/vendor/backbone-amd/backbone.js"></script>

        <style>
            #main-content {
                background: yellow;
                overflow: hidden;
            }
            article {
                padding: 0;
                margin: 0;
                float: left;
                
                width: 250px;
                height: 250px;
            }
            article .trash-button,
            article .edit-button {
                width: 33%;
                border: 0;
                background: white;
                line-height: 1;
            }
            article .trash-button:after {
                content: "supprimer";
            }
            article .edit-button:after {
                content: "Editer";
            }
            article .illustration>img{
                display: block;
                width: 100%;
                box-sizing: border-box;
            }
        </style>
    </head>
    <body>
        <div id="main-content"></div>
        <script>
            var templatePath = "/templates/article.html";
            var models = [];
            var ArticleCollection = Backbone.Collection.extend({
                
            });
            models.push({
                title: "Image1",
                illustration: false,
                src: "http://wasistdas.co.uk/Owlsploitation/wp-content/uploads/2012/11/owl-2.jpg"
            });
            models.push({
                title: "Image2",
                illustration: false,
                src: "http://miriadna.com/desctopwalls/images/max/Surprised-eagle-owl.jpg"
            });
            models.push({
                title: "Image3",
                illustration: true,
                src: "http://i.telegraph.co.uk/multimedia/archive/02467/owl_2467479b.jpg"
            });
            models.push({
                title: "Image4",
                illustration: false,
                src: "http://www.thisiscolossal.com/wp-content/uploads/2012/11/owl-1.jpg"
            });
            
            var collection = new ArticleCollection(models);
            $.ajax(templatePath).done(function(template) {
                collection.each(function(model) {
                    var data = model.toJSON();
                    data.cid = model.cid;
                    var content = _.template(template, data);
                    $("#main-content").append(content);
                });
            });
        </script>
    </body>
</html>
